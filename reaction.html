<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f172a">    
    <title>Reaction Channel Whatsapp | by dapsz</title>
    
    <!-- Axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/whatsapp--v1.png">
    
    <!-- Meta Tags -->
    <meta name="description" content="Advanced WhatsApp Channel Reaction Tool">
    <meta name="keywords" content="WhatsApp, Channel, Reaction, Emoji, Tool">
    <meta name="author" content="Vyncore System">
    
    <style>
    /* RESET & BASE STYLES */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary: #0ea5e9;
        --primary-dark: #0369a1;
        --secondary: #8b5cf6;
        --success: #10b981;
        --danger: #ef4444;
        --warning: #f59e0b;
        --dark: #0f172a;
        --darker: #020617;
        --light: #f8fafc;
        --gray: #64748b;
        --gray-dark: #334155;
        
        --terminal-bg: #0a0a0a;
        --terminal-green: #00ff00;
        --terminal-cyan: #00ffff;
        --terminal-yellow: #ffff00;
        
        --border-radius: 12px;
        --transition: all 0.3s ease;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--darker);
        color: var(--light);
        min-height: 100vh;
        overflow-x: hidden;
        line-height: 1.6;
    }

    /* Background Grid */
    .grid-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: 
            linear-gradient(to right, rgba(30, 41, 59, 0.1) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(30, 41, 59, 0.1) 1px, transparent 1px);
        background-size: 40px 40px;
        z-index: -1;
        pointer-events: none;
    }

    /* Container */
    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* HEADER */
    .header {
        background: rgba(15, 23, 42, 0.8);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        padding: 15px 0;
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .logo-icon {
        font-size: 2.5rem;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }

    .logo-title {
        font-family: 'JetBrains Mono', monospace;
        font-size: 1.8rem;
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 0 20px rgba(14, 165, 233, 0.3);
    }

    .server-status {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-top: 5px;
        font-size: 0.9rem;
    }

    .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .status-dot.online {
        background-color: var(--success);
        box-shadow: 0 0 10px var(--success);
    }

    .status-text {
        color: var(--gray);
    }

    .latency {
        color: var(--primary);
        font-family: 'JetBrains Mono', monospace;
    }

    .version-badge {
        background: rgba(139, 92, 246, 0.2);
        border: 1px solid var(--secondary);
        color: var(--secondary);
        padding: 5px 15px;
        border-radius: 20px;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9rem;
    }

    /* MAIN CONTAINER */
    .main-container {
        padding: 30px 0;
    }

    .dashboard {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 30px;
    }

    /* CONFIG PANEL */
    .config-panel {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(56, 189, 248, 0.2);
        border-radius: var(--border-radius);
        padding: 25px;
        backdrop-filter: blur(10px);
    }

    .panel-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
    }

    .panel-header h2 {
        font-size: 1.5rem;
        color: var(--primary);
    }

    .input-group {
        margin-bottom: 25px;
    }

    .input-group label {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        color: var(--light);
        font-weight: 500;
    }

    .input-wrapper {
        position: relative;
    }

    .input-wrapper input {
        width: 100%;
        padding: 15px;
        background: rgba(30, 41, 59, 0.5);
        border: 2px solid var(--gray-dark);
        border-radius: 8px;
        color: var(--light);
        font-family: 'JetBrains Mono', monospace;
        font-size: 1rem;
        transition: var(--transition);
    }

    .input-wrapper input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 15px rgba(14, 165, 233, 0.3);
    }

    .input-hint {
        margin-top: 8px;
        font-size: 0.85rem;
        color: var(--gray);
    }

    .hint-default {
        color: var(--gray);
    }

    /* Emoji Preview */
    .emoji-preview-section {
        margin-top: 15px;
    }

    .emoji-preview {
        background: rgba(30, 41, 59, 0.5);
        border: 1px solid var(--gray-dark);
        border-radius: 8px;
        padding: 15px;
        min-height: 60px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
    }

    .preview-placeholder {
        color: var(--gray);
        font-style: italic;
    }

    .emoji-preview span {
        font-size: 1.8rem;
        transition: transform 0.2s;
    }

    .emoji-preview span:hover {
        transform: scale(1.3);
    }

    .emoji-counter {
        text-align: right;
        margin-top: 8px;
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9rem;
        color: var(--success);
    }

    /* Quick Emoji */
    .quick-emoji {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 10px;
        margin-top: 15px;
    }

    .quick-emoji span {
        color: var(--gray);
        font-size: 0.9rem;
    }

    .emoji-btn {
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid var(--gray-dark);
        color: var(--light);
        padding: 8px 15px;
        border-radius: 20px;
        cursor: pointer;
        transition: var(--transition);
        font-size: 0.9rem;
    }

    .emoji-btn:hover {
        background: rgba(56, 189, 248, 0.2);
        border-color: var(--primary);
    }

    /* Advanced Settings */
    .advanced-settings {
        background: rgba(30, 41, 59, 0.5);
        border-radius: 8px;
        margin-top: 20px;
        overflow: hidden;
    }

    .advanced-header {
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        background: rgba(15, 23, 42, 0.5);
        transition: var(--transition);
    }

    .advanced-header:hover {
        background: rgba(15, 23, 42, 0.7);
    }

    .toggle-icon {
        margin-left: auto;
        transition: transform 0.3s;
    }

    .advanced-content {
        padding: 15px;
        border-top: 1px solid var(--gray-dark);
        display: none;
    }

    .advanced-settings.active .advanced-content {
        display: block;
    }

    .advanced-settings.active .toggle-icon {
        transform: rotate(180deg);
    }

    .setting-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .setting-row:last-child {
        border-bottom: none;
    }

    .setting-row label {
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
    }

    .setting-row input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
    }

    .setting-value {
        font-family: 'JetBrains Mono', monospace;
        color: var(--primary);
    }

    /* TERMINAL PANEL */
    .terminal-panel {
        display: flex;
        flex-direction: column;
        gap: 25px;
    }

    /* Info Cards */
    .info-cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 15px;
    }

    .info-card {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(56, 189, 248, 0.1);
        border-radius: var(--border-radius);
        padding: 20px;
        transition: var(--transition);
    }

    .info-card:hover {
        border-color: rgba(56, 189, 248, 0.3);
        transform: translateY(-2px);
    }

    .card-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin-bottom: 15px;
    }

    .card-icon.anonymous {
        background: rgba(168, 85, 247, 0.2);
        color: #a855f7;
    }

    .card-icon.speed {
        background: rgba(245, 158, 11, 0.2);
        color: #f59e0b;
    }

    .card-icon.global {
        background: rgba(14, 165, 233, 0.2);
        color: #0ea5e9;
    }

    .card-content h3 {
        font-size: 1.1rem;
        margin-bottom: 8px;
        color: var(--light);
    }

    .card-content p {
        font-size: 0.9rem;
        color: var(--gray);
    }

    /* Terminal */
    .terminal {
        background: var(--terminal-bg);
        border: 1px solid rgba(0, 255, 255, 0.2);
        border-radius: var(--border-radius);
        overflow: hidden;
        font-family: 'JetBrains Mono', monospace;
    }

    .terminal-header {
        background: rgba(0, 0, 0, 0.5);
        padding: 15px;
        display: flex;
        align-items: center;
        gap: 15px;
        border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    }

    .terminal-dots {
        display: flex;
        gap: 8px;
    }

    .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
    }

    .dot.red { background: #ff5f56; }
    .dot.yellow { background: #ffbd2e; }
    .dot.green { background: #27ca3f; }

    .terminal-title {
        color: var(--terminal-cyan);
        font-size: 0.9rem;
    }

    .terminal-body {
        padding: 20px;
        min-height: 200px;
        max-height: 300px;
        overflow-y: auto;
    }

    .log-line {
        margin-bottom: 10px;
        line-height: 1.5;
    }

    .log-time {
        color: var(--gray);
        margin-right: 10px;
    }

    .log-text {
        color: var(--light);
    }

    .log-text.system { color: var(--terminal-cyan); }
    .log-text.success { color: var(--terminal-green); }
    .log-text.error { color: #ff5555; }
    .log-text.warning { color: var(--terminal-yellow); }

    .terminal-prompt {
        margin-top: 15px;
        color: var(--terminal-green);
    }

    .prompt-cursor {
        animation: blink 1s infinite;
    }

    @keyframes blink {
        0%, 50% { opacity: 1; }
        51%, 100% { opacity: 0; }
    }

    /* Execute Section */
    .execute-section {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(56, 189, 248, 0.2);
        border-radius: var(--border-radius);
        padding: 25px;
        text-align: center;
    }

    .payload-status {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-bottom: 20px;
        color: var(--gray);
    }

    .execute-btn {
        background: linear-gradient(45deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        padding: 18px 40px;
        font-size: 1.2rem;
        font-weight: bold;
        border-radius: var(--border-radius);
        cursor: pointer;
        transition: var(--transition);
        width: 100%;
        position: relative;
        overflow: hidden;
    }

    .execute-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(14, 165, 233, 0.3);
    }

    .execute-btn:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
    }

    .execute-btn .loader {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .hidden {
        display: none !important;
    }

    .connection-status {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
        color: var(--success);
        font-size: 0.9rem;
    }

    /* Result Container */
    .result-container {
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(56, 189, 248, 0.2);
        border-radius: var(--border-radius);
        padding: 20px;
    }

    .result-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        color: var(--primary);
        font-weight: bold;
    }

    .result-body {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
    }

    .result-item {
        display: flex;
        flex-direction: column;
        gap: 5px;
    }

    .result-label {
        font-size: 0.9rem;
        color: var(--gray);
    }

    .result-value {
        font-family: 'JetBrains Mono', monospace;
        font-size: 1rem;
    }

    .result-value.idle { color: var(--warning); }
    .result-value.success { color: var(--success); }
    .result-value.error { color: var(--danger); }

    /* Stats Bar */
    .stats-bar {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(56, 189, 248, 0.2);
        border-radius: var(--border-radius);
        padding: 20px;
    }

    .stat {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .stat i {
        font-size: 2rem;
        color: var(--primary);
    }

    .stat-value {
        font-size: 1.8rem;
        font-weight: bold;
        color: var(--light);
        display: block;
    }

    .stat-label {
        font-size: 0.9rem;
        color: var(--gray);
    }

    /* FOOTER */
    .footer {
        background: rgba(15, 23, 42, 0.8);
        border-top: 1px solid rgba(56, 189, 248, 0.2);
        padding: 25px 0;
        margin-top: 40px;
    }

    .footer-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .footer-logo {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .logo-icon.small {
        font-size: 2rem;
    }

    .footer-title {
        font-weight: bold;
        color: var(--light);
    }

    .footer-version {
        font-size: 0.85rem;
        color: var(--gray);
        margin-top: 5px;
    }

    .footer-links {
        display: flex;
        gap: 25px;
    }

    .footer-links a {
        color: var(--gray);
        text-decoration: none;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .footer-links a:hover {
        color: var(--primary);
    }

    .footer-info {
        text-align: right;
    }

    .timestamp {
        font-family: 'JetBrains Mono', monospace;
        font-size: 0.9rem;
        color: var(--gray);
        margin-bottom: 5px;
    }

    .copyright {
        font-size: 0.85rem;
        color: var(--gray);
    }

    /* MODAL */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        align-items: center;
        justify-content: center;
    }

    .modal.active {
        display: flex;
    }

    .modal-content {
        background: var(--dark);
        border: 1px solid var(--primary);
        border-radius: var(--border-radius);
        width: 90%;
        max-width: 500px;
        overflow: hidden;
    }

    .modal-header {
        padding: 20px;
        background: rgba(14, 165, 233, 0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
    }

    .modal-close {
        background: none;
        border: none;
        color: var(--light);
        font-size: 2rem;
        cursor: pointer;
        line-height: 1;
    }

    .modal-body {
        padding: 20px;
    }

    .modal-body ul {
        margin: 15px 0 15px 20px;
        color: var(--gray);
    }

    /* SCROLLBAR */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(30, 41, 59, 0.5);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--primary-dark);
    }

    /* ========== MOBILE RESPONSIVE IMPROVEMENTS ========== */

    /* Mobile Header Menu */
    .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        color: var(--light);
        font-size: 1.5rem;
        cursor: pointer;
        padding: 5px;
    }

    .mobile-nav {
        display: none;
        position: fixed;
        top: 70px;
        left: 0;
        width: 100%;
        background: rgba(15, 23, 42, 0.95);
        backdrop-filter: blur(10px);
        z-index: 999;
        padding: 20px;
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
    }

    .mobile-nav.active {
        display: block;
    }

    .mobile-nav-item {
        display: block;
        padding: 15px;
        color: var(--light);
        text-decoration: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 1.1rem;
    }

    .mobile-nav-item:last-child {
        border-bottom: none;
    }

    .mobile-nav-item i {
        margin-right: 10px;
        width: 20px;
        text-align: center;
    }

    /* Tablet Responsive */
    @media (max-width: 992px) {
        .dashboard {
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .info-cards {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .header-content {
            flex-wrap: wrap;
        }
        
        .logo-title {
            font-size: 1.5rem;
        }
        
        .config-panel,
        .terminal-panel {
            padding: 20px;
        }
        
        .execute-btn {
            padding: 16px 30px;
            font-size: 1.1rem;
        }
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .container {
            padding: 0 15px;
        }
        
        .main-container {
            padding: 20px 0;
        }
        
        .mobile-menu-btn {
            display: block;
        }
        
        .version-badge {
            display: none;
        }
        
        .logo {
            flex: 1;
        }
        
        .logo-icon {
            font-size: 2rem;
        }
        
        .logo-title {
            font-size: 1.3rem;
        }
        
        .server-status {
            flex-direction: column;
            align-items: flex-start;
            gap: 5px;
            margin-top: 8px;
        }
        
        .info-cards {
            grid-template-columns: 1fr;
        }
        
        .config-panel,
        .terminal-panel {
            padding: 15px;
        }
        
        .panel-header h2 {
            font-size: 1.3rem;
        }
        
        .input-wrapper input {
            padding: 12px;
            font-size: 0.95rem;
        }
        
        .quick-emoji {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
        }
        
        .emoji-btn {
            width: 100%;
            justify-content: center;
        }
        
        .terminal-body {
            padding: 15px;
            min-height: 180px;
            max-height: 250px;
        }
        
        .log-line {
            font-size: 0.9rem;
        }
        
        .result-body {
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .stats-bar {
            grid-template-columns: repeat(2, 1fr);
            padding: 15px;
            gap: 15px;
        }
        
        .stat {
            flex-direction: column;
            text-align: center;
            gap: 10px;
        }
        
        .stat i {
            font-size: 1.8rem;
        }
        
        .stat-value {
            font-size: 1.5rem;
        }
        
        .footer-content {
            flex-direction: column;
            text-align: center;
            gap: 20px;
        }
        
        .footer-links {
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .footer-info {
            text-align: center;
        }
        
        /* Adjust emoji preview for mobile */
        .emoji-preview span {
            font-size: 1.5rem;
        }
    }

    /* Small Mobile */
    @media (max-width: 480px) {
        .logo-title {
            font-size: 1.1rem;
        }
        
        .panel-header h2 {
            font-size: 1.1rem;
        }
        
        .execute-btn {
            padding: 14px 20px;
            font-size: 1rem;
        }
        
        .terminal-header {
            padding: 12px;
        }
        
        .terminal-title {
            font-size: 0.8rem;
        }
        
        .stats-bar {
            grid-template-columns: 1fr;
        }
        
        .modal-content {
            width: 95%;
        }
    }

    /* Landscape Mobile */
    @media (max-height: 600px) and (orientation: landscape) {
        .header {
            padding: 10px 0;
        }
        
        .main-container {
            padding: 15px 0;
        }
        
        .terminal-body {
            max-height: 200px;
        }
        
        .config-panel {
            padding: 15px;
        }
    }

    /* ========== EMOJI PICKER STYLES ========== */
    .emoji-picker-btn {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: var(--primary);
        font-size: 1.2rem;
        cursor: pointer;
        padding: 5px;
        border-radius: 4px;
        transition: var(--transition);
    }

    .emoji-picker-btn:hover {
        background: rgba(56, 189, 248, 0.1);
    }

    .emoji-picker-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(5px);
    }

    .emoji-picker-modal.active {
        display: flex;
    }

    .emoji-picker-container {
        background: var(--dark);
        border: 1px solid var(--primary);
        border-radius: var(--border-radius);
        width: 90%;
        max-width: 500px;
        max-height: 80vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }

    .emoji-picker-header {
        padding: 15px 20px;
        background: rgba(14, 165, 233, 0.1);
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .emoji-picker-search {
        flex: 1;
        margin-right: 15px;
    }

    .emoji-picker-search input {
        width: 100%;
        padding: 10px 15px;
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid var(--gray-dark);
        border-radius: 20px;
        color: var(--light);
        font-size: 0.9rem;
    }

    .emoji-picker-close {
        background: none;
        border: none;
        color: var(--light);
        font-size: 1.5rem;
        cursor: pointer;
        line-height: 1;
    }

    .emoji-categories {
        display: flex;
        padding: 10px 20px;
        background: rgba(15, 23, 42, 0.8);
        border-bottom: 1px solid rgba(56, 189, 248, 0.2);
        overflow-x: auto;
    }

    .emoji-category-btn {
        background: none;
        border: none;
        color: var(--gray);
        padding: 8px 15px;
        margin-right: 10px;
        border-radius: 20px;
        cursor: pointer;
        white-space: nowrap;
        transition: var(--transition);
    }

    .emoji-category-btn.active {
        background: var(--primary);
        color: white;
    }

    .emoji-category-btn:hover {
        background: rgba(56, 189, 248, 0.2);
        color: var(--light);
    }

    .emoji-grid-container {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
    }

    .emoji-grid {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        gap: 10px;
    }

    @media (max-width: 768px) {
        .emoji-grid {
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
        }
    }

    @media (max-width: 480px) {
        .emoji-grid {
            grid-template-columns: repeat(5, 1fr);
            gap: 6px;
        }
    }

    .emoji-item {
        font-size: 1.8rem;
        text-align: center;
        padding: 10px;
        cursor: pointer;
        border-radius: 8px;
        transition: var(--transition);
        user-select: none;
    }

    .emoji-item:hover {
        background: rgba(56, 189, 248, 0.2);
        transform: scale(1.1);
    }

    .emoji-item:active {
        transform: scale(0.95);
    }

    .emoji-picker-footer {
        padding: 15px 20px;
        background: rgba(15, 23, 42, 0.8);
        border-top: 1px solid rgba(56, 189, 248, 0.2);
        text-align: center;
        color: var(--gray);
        font-size: 0.9rem;
    }

    /* Recent Emojis */
    .recent-emoji-section {
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .recent-emoji-title {
        color: var(--gray);
        margin-bottom: 10px;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    /* Touch Device Optimizations */
    @media (hover: none) and (pointer: coarse) {
        .emoji-item {
            padding: 15px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .emoji-btn {
            padding: 12px 20px;
            min-height: 44px;
        }
        
        .execute-btn {
            min-height: 60px;
        }
        
        /* Better touch targets */
        input, button, select {
            min-height: 44px;
        }
    }

    /* Dark/Light mode preference */
    @media (prefers-color-scheme: light) {
        .emoji-picker-modal {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .emoji-picker-container {
            background: white;
            border-color: var(--primary-dark);
        }
        
        .emoji-picker-header {
            background: rgba(14, 165, 233, 0.1);
            color: var(--dark);
        }
        
        .emoji-picker-search input {
            background: rgba(248, 250, 252, 0.9);
            color: var(--dark);
            border-color: #cbd5e1;
        }
        
        .emoji-categories {
            background: rgba(248, 250, 252, 0.9);
        }
        
        .emoji-item:hover {
            background: rgba(14, 165, 233, 0.1);
        }
    }

    /* Mobile Notification */
    .mobile-notification {
        display: none;
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(14, 165, 233, 0.9);
        color: white;
        padding: 12px 20px;
        border-radius: var(--border-radius);
        z-index: 1000;
        backdrop-filter: blur(10px);
        align-items: center;
        gap: 10px;
        max-width: 90%;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    .mobile-notification button {
        background: none;
        border: none;
        color: white;
        font-size: 1.2rem;
        cursor: pointer;
        padding: 0 5px;
    }

    /* Responsive Fixes */
    @media (max-width: 1200px) {
        .dashboard {
            grid-template-columns: 1fr;
        }
    }
    </style>
</head>
<body>
    <!-- Background Grid -->
    <div class="grid-bg"></div>
    
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">‚ö°</div>
                    <div>
                        <h1 class="logo-title">Reaction Saluran WhatsApp</h1>
                        <div class="server-status">
                            <span class="status-dot online"></span>
                            <span class="status-text">SERVER STATUS: <strong>ONLINE</strong></span>
                            <span class="latency">LATENCY: <span id="latencyValue">24ms</span></span>
                        </div>
                    </div>
                </div>
                <div class="header-info">
                    <div class="version-badge">v3.1.0</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container main-container">
        <div class="dashboard">
            <!-- Left Panel: Configuration -->
            <div class="config-panel">
                <div class="panel-header">
                    <i class="fas fa-cogs"></i>
                    <h2>TARGET CONFIGURATION</h2>
                </div>
                
                <div class="config-form">
                    <!-- WhatsApp Channel Input -->
                    <div class="input-group">
                        <label for="postUrl">
                            <i class="fab fa-whatsapp"></i> LINK POSTINGAN / CHANNEL WHATSAPP
                        </label>
                        <div class="input-wrapper">
                            <input type="text" 
                                   id="postUrl" 
                                   placeholder="https://whatsapp.com/channel/..."
                                   autocomplete="off"
                                   spellcheck="false">
                            <div class="input-hint">
                                Masukkan URL lengkap postingan WhatsApp Channel
                            </div>
                        </div>
                    </div>
                    
                    <!-- Emoji Input -->
                    <div class="input-group">
                        <label for="emojis">
                            <i class="fas fa-smile"></i> EMOJI REACTION
                        </label>
                        <div class="input-wrapper">
                            <input type="text" 
                                   id="emojis" 
                                   placeholder="üëç üî• üòé üöÄ"
                                   autocomplete="off"
                                   spellcheck="false">
                            <div class="input-hint" id="emojiHint">
                                <span class="hint-default">Pisahkan dengan spasi atau koma</span>
                            </div>
                        </div>
                        
                        <!-- Emoji Preview & Counter -->
                        <div class="emoji-preview-section">
                            <div class="emoji-preview" id="emojiPreview">
                                <div class="preview-placeholder">Preview akan muncul di sini</div>
                            </div>
                            <div class="emoji-counter">
                                <span id="emojiCount">0 DETECTED</span>
                            </div>
                        </div>
                        
                        <!-- Quick Emoji Buttons -->
                        <div class="quick-emoji">
                            <span>Quick Select:</span>
                            <button class="emoji-btn" data-emoji="üëç">üëç Like</button>
                            <button class="emoji-btn" data-emoji="üî•">üî• Fire</button>
                            <button class="emoji-btn" data-emoji="üòé">üòé Cool</button>
                            <button class="emoji-btn" data-emoji="üöÄ">üöÄ Rocket</button>
                            <button class="emoji-btn" data-emoji="‚ù§Ô∏è">‚ù§Ô∏è Love</button>
                        </div>
                    </div>
                    
                    <!-- Advanced Settings (Collapsible) -->
                    <div class="advanced-settings">
                        <div class="advanced-header">
                            <i class="fas fa-sliders-h"></i>
                            <span>Advanced Settings</span>
                            <i class="fas fa-chevron-down toggle-icon"></i>
                        </div>
                        <div class="advanced-content">
                            <div class="setting-row">
                                <label>
                                    <input type="checkbox" id="autoDelay" checked>
                                    Auto-delay on limit
                                </label>
                                <span class="setting-value" id="delayValue">5s</span>
                            </div>
                            <div class="setting-row">
                                <label>
                                    <input type="checkbox" id="encryptData" checked>
                                    Encrypt request data
                                </label>
                            </div>
                            <div class="setting-row">
                                <label>
                                    <input type="checkbox" id="useProxy">
                                    Use proxy rotation
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Panel: Terminal & Control -->
            <div class="terminal-panel">
                <!-- System Info Cards -->
                <div class="info-cards">
                    <div class="info-card">
                        <div class="card-icon anonymous">
                            <i class="fas fa-user-secret"></i>
                        </div>
                        <div class="card-content">
                            <h3>Anonymous</h3>
                            <p>Identitas disamarkan melalui enkripsi multi-layer</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="card-icon speed">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="card-content">
                            <h3>High Speed</h3>
                            <p>Eksekusi API instan dengan latensi rendah</p>
                        </div>
                    </div>
                    
                    <div class="info-card">
                        <div class="card-icon global">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="card-content">
                            <h3>Global Node</h3>
                            <p>Terhubung melalui proxy node global</p>
                        </div>
                    </div>
                </div>
                
                <!-- Terminal -->
                <div class="terminal">
                    <div class="terminal-header">
                        <div class="terminal-dots">
                            <span class="dot red"></span>
                            <span class="dot yellow"></span>
                            <span class="dot green"></span>
                        </div>
                        <div class="terminal-title">
                            <i class="fas fa-terminal"></i> SYSTEM TERMINAL
                        </div>
                    </div>
                    <div class="terminal-body">
                        <div class="log-line" id="terminalLog">
                            <span class="log-time">[12:00:00]</span>
                            <span class="log-text system">System initialized. Ready for input...</span>
                        </div>
                        <div class="log-line" id="dynamicLog">
                            <!-- Logs will appear here -->
                        </div>
                        <div class="terminal-prompt">
                            <span class="prompt-user">vyncore@reactionhub:~$</span>
                            <span class="prompt-cursor">_</span>
                        </div>
                    </div>
                </div>
                
                <!-- Execute Button -->
                <div class="execute-section">
                    <div class="payload-status">
                        <i class="fas fa-shield-alt"></i>
                        <span>REACTION PAYLOAD: <strong id="payloadStatus">READY</strong></span>
                    </div>
                    
                    <button id="btnReact" class="execute-btn">
                        <span id="btnText">
                            <i class="fas fa-play"></i> EXECUTE REACTION
                        </span>
                        <span id="btnLoader" class="loader hidden">
                            <i class="fas fa-spinner fa-spin"></i> PROCESSING...
                        </span>
                    </button>
                    
                    <div class="connection-status">
                        <i class="fas fa-lock"></i>
                        <span>SECURE CONNECTION ESTABLISHED</span>
                    </div>
                </div>
                
                <!-- Result Container -->
                <div id="result-container" class="result-container">
                    <div class="result-header">
                        <i class="fas fa-chart-line"></i> EXECUTION RESULTS
                    </div>
                    <div class="result-body">
                        <div class="result-item">
                            <span class="result-label">Last Action:</span>
                            <span id="lastAction" class="result-value">None</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Status:</span>
                            <span id="lastStatus" class="result-value idle">IDLE</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Response Time:</span>
                            <span id="responseTime" class="result-value">0ms</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Token Used:</span>
                            <span id="tokenUsed" class="result-value">None</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat">
                <i class="fas fa-paper-plane"></i>
                <div>
                    <span class="stat-value" id="totalRequests">0</span>
                    <span class="stat-label">Total Requests</span>
                </div>
            </div>
            <div class="stat">
                <i class="fas fa-check-circle"></i>
                <div>
                    <span class="stat-value" id="successCount">0</span>
                    <span class="stat-label">Success</span>
                </div>
            </div>
            <div class="stat">
                <i class="fas fa-times-circle"></i>
                <div>
                    <span class="stat-value" id="errorCount">0</span>
                    <span class="stat-label">Errors</span>
                </div>
            </div>
            <div class="stat">
                <i class="fas fa-clock"></i>
                <div>
                    <span class="stat-value" id="avgResponse">0ms</span>
                    <span class="stat-label">Avg. Response</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-icon small">‚ö°</div>
                    <div>
                        <div class="footer-title">REACTION HUB SYSTEM</div>
                        <div class="footer-version">Dapsz System 1.0</div>
                    </div>
                </div>
                
                <div class="footer-links">
                    <a href="javascript:void(0)" onclick="showAbout()">
                        <i class="fas fa-info-circle"></i> About
                    </a>
                    <a href="javascript:void(0)" onclick="resetSystem()">
                        <i class="fas fa-redo"></i> Reset
                    </a>
                    <a href="javascript:void(0)" onclick="exportLogs()">
                        <i class="fas fa-download"></i> Export Logs
                    </a>
                </div>
                
                <div class="footer-info">
                    <div class="timestamp" id="currentTimestamp">
                        Loading...
                    </div>
                    <div class="copyright">
                        ¬© 2025 Reeaction Saluran Whatsapp. By Dapsz.
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div id="aboutModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> About Reaction Saluran</h3>
                <button class="modal-close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>Ini adalah alat demonstrasi untuk interaksi Saluran WhatsApp..</p>
                <p><strong>Features:</strong></p>
                <ul>
                    <li>Kirim reaksi ke postingan Saluran WhatsApp</li>
                    <li>'Multiple' emoji support</li>
                    <li>Rate limit handling with auto-delay</li>
                    <li>Secure encrypted connections</li>
                    <li>Real-time terminal logging</li>
                </ul>
                <p><strong>Note:</strong> This tool is for educational purposes only.</p>
            </div>
        </div>
    </div>

    <!-- Mobile Notification -->
    <div class="mobile-notification" id="mobileNotification">
        <i class="fas fa-info-circle"></i>
        <span>Touch and hold emoji preview to clear</span>
        <button onclick="hideMobileNotification()">&times;</button>
    </div>

    <script>
    // ========== REACTION HUB MAIN SCRIPT ==========
    class ReactionHub {
        constructor() {
            this.API_TOKENS = ['movanest-key44CZSICJC9'];
            this.API_ENDPOINT = 'https://movanest.zone.id/user-coin';
            this.DELAY_ON_LIMIT = 5000;
            
            this.stats = {
                totalRequests: 0,
                successCount: 0,
                errorCount: 0,
                responseTimes: []
            };
            
            this.init();
        }
        
        init() {
            this.updateTimestamp();
            this.setupEventListeners();
            this.updateLatency();
            this.loadStats();
            
            // Update timestamp every second
            setInterval(() => this.updateTimestamp(), 1000);
            
            // Simulate latency changes
            setInterval(() => this.updateLatency(), 10000);
            
            console.log('Reaction Hub initialized');
            this.logToTerminal('System initialized. Ready for input...', 'system');
            
            // Initialize enhanced features
            this.initEnhancedFeatures();
        }
        
        updateTimestamp() {
            const now = new Date();
            const timestamp = now.toLocaleString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            });
            
            document.getElementById('currentTimestamp').textContent = timestamp;
        }
        
        updateLatency() {
            const latency = 20 + Math.floor(Math.random() * 25);
            document.getElementById('latencyValue').textContent = `${latency}ms`;
        }
        
        setupEventListeners() {
            // Execute button
            document.getElementById('btnReact').addEventListener('click', () => this.handleReaction());
            
            // Emoji input validation
            const emojiInput = document.getElementById('emojis');
            if (emojiInput) {
                emojiInput.addEventListener('input', (e) => {
                    this.validateAndFormatEmojis(e.target.value);
                    this.updateEmojiPreview(e.target.value);
                });
            }
            
            // Quick emoji buttons
            document.querySelectorAll('.emoji-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const emoji = e.target.dataset.emoji;
                    this.addEmojiToInput(emoji);
                });
            });
            
            // Advanced settings toggle
            const advancedHeader = document.querySelector('.advanced-header');
            if (advancedHeader) {
                advancedHeader.addEventListener('click', () => {
                    document.querySelector('.advanced-settings').classList.toggle('active');
                });
            }
            
            // Enter key support
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !document.getElementById('btnReact').disabled) {
                    this.handleReaction();
                }
            });
            
            // Auto-delay slider
            const autoDelay = document.getElementById('autoDelay');
            if (autoDelay) {
                autoDelay.addEventListener('change', (e) => {
                    this.DELAY_ON_LIMIT = e.target.checked ? 5000 : 0;
                    document.getElementById('delayValue').textContent = e.target.checked ? '5s' : '0s';
                });
            }
        }
        
        validateAndFormatEmojis(input) {
            const emojiHint = document.getElementById('emojiHint');
            
            if (!input || input.trim() === '') {
                emojiHint.innerHTML = '<span class="hint-default">Pisahkan dengan spasi atau koma</span>';
                return { valid: false, formatted: '' };
            }
            
            // Regex untuk emoji Unicode
            const emojiRegex = /[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu;
            const hasEmoji = emojiRegex.test(input);
            
            if (!hasEmoji) {
                emojiHint.innerHTML = '<span style="color:var(--danger)">Hanya emoji yang diizinkan!</span>';
                return { valid: false, formatted: '' };
            }
            
            // Format emoji
            const formatted = input.replace(/\s+/g, '')
                .match(emojiRegex)
                ?.join(',') || '';
            
            const count = formatted.split(',').filter(e => e).length;
            document.getElementById('emojiCount').textContent = `${count} DETECTED`;
            
            emojiHint.innerHTML = '<span style="color:var(--success)">Format valid. Siap kirim.</span>';
            return { valid: true, formatted };
        }
        
        updateEmojiPreview(input) {
            const preview = document.getElementById('emojiPreview');
            if (!preview) return;
            
            const emojiRegex = /[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu;
            const emojis = input.match(emojiRegex) || [];
            
            if (emojis.length === 0) {
                preview.innerHTML = '<div class="preview-placeholder">Preview akan muncul di sini</div>';
                return;
            }
            
            preview.innerHTML = emojis.map(emoji => 
                `<span title="${emoji}">${emoji}</span>`
            ).join('');
        }
        
        addEmojiToInput(emoji) {
            const input = document.getElementById('emojis');
            const current = input.value.trim();
            
            if (current) {
                input.value = current + ' ' + emoji;
            } else {
                input.value = emoji;
            }
            
            this.validateAndFormatEmojis(input.value);
            this.updateEmojiPreview(input.value);
            input.focus();
        }
        
        async handleReaction() {
            const urlInput = document.getElementById('postUrl');
            const emojiInput = document.getElementById('emojis');
            
            const url = urlInput.value.trim();
            let emojis = emojiInput.value.trim();
            
            // Validation
            if (!url) {
                this.showMessage('URL TARGET MISSING', false);
                urlInput.focus();
                return;
            }
            
            if (!emojis) {
                this.showMessage('EMOJI PAYLOAD MISSING', false);
                emojiInput.focus();
                return;
            }
            
            const validation = this.validateAndFormatEmojis(emojis);
            if (!validation.valid) {
                this.showMessage('INVALID EMOJI FORMAT', false);
                emojiInput.focus();
                return;
            }
            
            emojiInput.value = validation.formatted;
            emojis = validation.formatted;
            
            // UI State
            this.setLoadingState(true);
            this.stats.totalRequests++;
            this.updateStats();
            
            this.logToTerminal(`Initiating request to: ${url}`, 'system');
            this.logToTerminal(`Emoji payload: ${emojis}`, 'system');
            
            const startTime = Date.now();
            
            try {
                const result = await this.sendReactionRequest(url, emojis);
                const responseTime = Date.now() - startTime;
                
                this.stats.responseTimes.push(responseTime);
                
                if (result.success) {
                    this.stats.successCount++;
                    this.showMessage(`‚úÖ Reaction sent successfully!`, true);
                    this.logToTerminal(`Success! Response time: ${responseTime}ms`, 'success');
                    
                    // Update results
                    document.getElementById('lastAction').textContent = 'Reaction Sent';
                    document.getElementById('lastStatus').textContent = 'SUCCESS';
                    document.getElementById('lastStatus').className = 'result-value success';
                    document.getElementById('responseTime').textContent = `${responseTime}ms`;
                    document.getElementById('tokenUsed').textContent = 'movanest***';
                    
                } else {
                    this.stats.errorCount++;
                    this.showMessage(`‚ùå Failed: ${result.error}`, false);
                    this.logToTerminal(`Error: ${result.error}`, 'error');
                    
                    document.getElementById('lastStatus').textContent = 'ERROR';
                    document.getElementById('lastStatus').className = 'result-value error';
                }
                
            } catch (error) {
                this.stats.errorCount++;
                this.showMessage(`‚ùå System error: ${error.message}`, false);
                this.logToTerminal(`System error: ${error.message}`, 'error');
            } finally {
                this.setLoadingState(false);
                this.saveStats();
                this.updateStats();
            }
        }
        
        async sendReactionRequest(postUrl, emojis) {
            for (const token of this.API_TOKENS) {
                try {
                    this.logToTerminal(`Trying token: ${token.substring(0, 10)}...`, 'system');
                    
                    const response = await axios.get(this.API_ENDPOINT, {
                        params: {
                            user_api_key: token,
                            postUrl,
                            emojis
                        },
                        timeout: 50000,
                        headers: {
                            'User-Agent': 'Mozilla/5.0 ReactionHub/3.1',
                            'Accept': 'application/json'
                        }
                    });
                    
                    return {
                        success: true,
                        data: response.data,
                        token: token
                    };
                    
                } catch (error) {
                    const status = error.response?.status;
                    const message = error.response?.data?.message || error.message;
                    
                    // Handle rate limit
                    if (status === 402 || message.toLowerCase().includes('limit')) {
                        this.logToTerminal('Rate limit hit, waiting 5 seconds...', 'warning');
                        
                        if (this.DELAY_ON_LIMIT > 0) {
                            await new Promise(resolve => {
                                setTimeout(resolve, this.DELAY_ON_LIMIT);
                                this.showMessage(`‚è≥ Rate limit, retrying in ${this.DELAY_ON_LIMIT/1000}s...`, true);
                            });
                        }
                        continue; // Try next token
                    }
                    
                    // Unauthorized - try next token
                    if (status === 401) {
                        this.logToTerminal('Token unauthorized, trying next...', 'warning');
                        continue;
                    }
                    
                    // Other errors
                    return {
                        success: false,
                        status: status,
                        error: message
                    };
                }
            }
            
            return {
                success: false,
                error: 'All tokens failed. System may be overloaded.'
            };
        }
        
        setLoadingState(isLoading) {
            const btn = document.getElementById('btnReact');
            const btnText = document.getElementById('btnText');
            const btnLoader = document.getElementById('btnLoader');
            const payloadStatus = document.getElementById('payloadStatus');
            
            btn.disabled = isLoading;
            
            if (isLoading) {
                btnText.classList.add('hidden');
                btnLoader.classList.remove('hidden');
                payloadStatus.textContent = 'PROCESSING';
                payloadStatus.style.color = 'var(--warning)';
            } else {
                btnText.classList.remove('hidden');
                btnLoader.classList.add('hidden');
                payloadStatus.textContent = 'READY';
                payloadStatus.style.color = 'var(--success)';
            }
        }
        
        showMessage(message, isSuccess) {
            const resultContainer = document.getElementById('result-container');
            resultContainer.classList.add('active');
            
            // Update last action
            document.getElementById('lastAction').textContent = 
                message.length > 30 ? message.substring(0, 30) + '...' : message;
            
            // Log to terminal
            this.logToTerminal(message, isSuccess ? 'success' : 'error');
        }
        
        logToTerminal(message, type = 'system') {
            const time = new Date().toLocaleTimeString('id-ID', {hour12: false});
            
            const logElement = document.createElement('div');
            logElement.className = 'log-line';
            logElement.innerHTML = `
                <span class="log-time">[${time}]</span>
                <span class="log-text ${type}">${message}</span>
            `;
            
            // Add to terminal
            const terminalBody = document.querySelector('.terminal-body');
            terminalBody.appendChild(logElement);
            
            // Scroll to bottom
            terminalBody.scrollTop = terminalBody.scrollHeight;
            
            // Keep only last 20 lines
            const allLogs = terminalBody.querySelectorAll('.log-line');
            if (allLogs.length > 20) {
                allLogs[0].remove();
            }
        }
        
        updateStats() {
            document.getElementById('totalRequests').textContent = this.stats.totalRequests;
            document.getElementById('successCount').textContent = this.stats.successCount;
            document.getElementById('errorCount').textContent = this.stats.errorCount;
            
            // Calculate average response time
            if (this.stats.responseTimes.length > 0) {
                const avg = Math.round(
                    this.stats.responseTimes.reduce((a, b) => a + b, 0) / this.stats.responseTimes.length
                );
                document.getElementById('avgResponse').textContent = `${avg}ms`;
            }
        }
        
        saveStats() {
            try {
                localStorage.setItem('reactionHub_stats', JSON.stringify(this.stats));
            } catch (e) {
                console.warn('Could not save stats to localStorage');
            }
        }
        
        loadStats() {
            try {
                const saved = localStorage.getItem('reactionHub_stats');
                if (saved) {
                    this.stats = JSON.parse(saved);
                    this.updateStats();
                }
            } catch (e) {
                console.warn('Could not load stats from localStorage');
            }
        }
        
        // ========== ENHANCED FEATURES ==========
        initEnhancedFeatures() {
            // Initialize mobile menu
            this.initMobileMenu();
            
            // Initialize emoji picker
            this.initEmojiPicker();
            
            // Touch gesture for emoji preview
            this.setupTouchGestures();
            
            // Detect device type
            this.detectDeviceType();
            
            // Set viewport height for mobile
            this.setViewportHeight();
        }
        
        initMobileMenu() {
            const mobileMenuBtn = document.createElement('button');
            mobileMenuBtn.className = 'mobile-menu-btn';
            mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            mobileMenuBtn.onclick = toggleMobileMenu;
            
            // Add to header
            const headerContent = document.querySelector('.header-content');
            headerContent.appendChild(mobileMenuBtn);
            
            // Create mobile nav
            const mobileNav = document.createElement('div');
            mobileNav.className = 'mobile-nav';
            mobileNav.innerHTML = `
                <a href="javascript:void(0)" class="mobile-nav-item" onclick="showAbout()">
                    <i class="fas fa-info-circle"></i> About
                </a>
                <a href="javascript:void(0)" class="mobile-nav-item" onclick="resetSystem()">
                    <i class="fas fa-redo"></i> Reset System
                </a>
                <a href="javascript:void(0)" class="mobile-nav-item" onclick="exportLogs()">
                    <i class="fas fa-download"></i> Export Logs
                </a>
                <a href="javascript:void(0)" class="mobile-nav-item" onclick="toggleEmojiPicker()">
                    <i class="fas fa-smile"></i> Emoji Picker
                </a>
                <a href="javascript:void(0)" class="mobile-nav-item" onclick="toggleAdvancedSettings()">
                    <i class="fas fa-sliders-h"></i> Advanced Settings
                </a>
            `;
            
            document.body.appendChild(mobileNav);
        }
        
        initEmojiPicker() {
            // Add emoji picker button to input
            const emojiInput = document.getElementById('emojis');
            if (!emojiInput) return;
            
            const inputWrapper = emojiInput.parentElement;
            inputWrapper.style.position = 'relative';
            
            const pickerBtn = document.createElement('button');
            pickerBtn.type = 'button';
            pickerBtn.className = 'emoji-picker-btn';
            pickerBtn.innerHTML = '<i class="fas fa-smile"></i>';
            pickerBtn.title = 'Open emoji picker';
            pickerBtn.onclick = toggleEmojiPicker;
            
            inputWrapper.appendChild(pickerBtn);
            
            // Create emoji picker modal
            const pickerModal = document.createElement('div');
            pickerModal.className = 'emoji-picker-modal';
            pickerModal.innerHTML = `
                <div class="emoji-picker-container">
                    <div class="emoji-picker-header">
                        <div class="emoji-picker-search">
                            <input type="text" placeholder="Search emojis..." id="emojiSearch">
                        </div>
                        <button class="emoji-picker-close" onclick="toggleEmojiPicker()">
                            &times;
                        </button>
                    </div>
                    
                    <div class="emoji-categories" id="emojiCategories">
                        <!-- Categories will be added by JS -->
                    </div>
                    
                    <div class="emoji-grid-container">
                        <div id="emojiGrid">
                            <!-- Emojis will be added by JS -->
                        </div>
                    </div>
                    
                    <div class="emoji-picker-footer">
                        Click emoji to add, tap again to add more
                    </div>
                </div>
            `;
            
            document.body.appendChild(pickerModal);
            this.renderEmojiCategories();
            this.renderEmojiGrid('recent');
            
            // Search functionality
            const searchInput = document.getElementById('emojiSearch');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    this.searchEmojis(e.target.value);
                });
            }
        }
        
        setupTouchGestures() {
            const emojiPreview = document.getElementById('emojiPreview');
            if (!emojiPreview) return;
            
            let startX, startY;
            let isSwiping = false;
            
            emojiPreview.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                isSwiping = true;
                
                // Show mobile notification on first touch
                if (!localStorage.getItem('notificationShown')) {
                    showMobileNotification();
                    localStorage.setItem('notificationShown', 'true');
                }
            });
            
            emojiPreview.addEventListener('touchmove', (e) => {
                if (!isSwiping) return;
                
                const currentX = e.touches[0].clientX;
                const diffX = startX - currentX;
                
                // Horizontal swipe to clear emojis
                if (Math.abs(diffX) > 50) {
                    document.getElementById('emojis').value = '';
                    document.getElementById('emojis').dispatchEvent(new Event('input'));
                    isSwiping = false;
                    
                    // Show feedback
                    this.logToTerminal('Emojis cleared via swipe gesture', 'system');
                }
            });
            
            emojiPreview.addEventListener('touchend', () => {
                isSwiping = false;
            });
        }
        
        detectDeviceType() {
            const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
            const isTouch = 'ontouchstart' in window;
            
            if (isMobile || isTouch) {
                document.body.classList.add('touch-device');
                
                // Adjust UI for touch devices
                const executeBtn = document.getElementById('btnReact');
                if (executeBtn) {
                    executeBtn.style.minHeight = '60px';
                    executeBtn.style.padding = '18px 20px';
                }
            }
        }
        
        setViewportHeight() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
            
            window.addEventListener('resize', () => {
                const vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            });
        }
        
        // Emoji picker methods
        renderEmojiCategories() {
            const categoriesContainer = document.getElementById('emojiCategories');
            if (!categoriesContainer) return;
            
            let categoriesHTML = '';
            
            // Recent category first
            categoriesHTML += `
                <button class="emoji-category-btn active" data-category="recent" onclick="reactionHub.switchEmojiCategory('recent')">
                    <i class="fas fa-clock"></i>
                </button>
            `;
            
            // Other categories
            const categories = {
                'smileys': 'fa-smile',
                'hearts': 'fa-heart',
                'hands': 'fa-hand-peace',
                'objects': 'fa-gem',
                'symbols': 'fa-hashtag',
                'flags': 'fa-flag'
            };
            
            for (const category in categories) {
                categoriesHTML += `
                    <button class="emoji-category-btn" data-category="${category}" onclick="reactionHub.switchEmojiCategory('${category}')">
                        <i class="fas ${categories[category]}"></i>
                    </button>
                `;
            }
            
            categoriesContainer.innerHTML = categoriesHTML;
        }
        
        renderEmojiGrid(category) {
            const emojiGrid = document.getElementById('emojiGrid');
            if (!emojiGrid) return;
            
            const emojiCategories = {
                "smileys": ["üòÄ", "üòπ", "üòÉ", "üòÑ", "üòÅ", "üòÜ", "üòÖ", "üòÇ", "ü§£", "üòä", "üòá", "üôÇ", "üôÉ", "üòâ", "üòå", "üòç", "ü•∞", "üòò", "üòó", "üòô", "üòö", "üòã", "üòõ", "üòù", "üòú", "ü§™", "ü§®", "üßê", "ü§ì", "üòé", "ü•∏", "ü§©", "ü•≥"],
                "hearts": ["‚ù§Ô∏è", "üß°", "üíõ", "üíö", "üíô", "üíú", "üñ§", "ü§ç", "ü§é", "üíî", "‚ù§Ô∏è‚Äçüî•", "‚ù§Ô∏è‚Äçü©π", "üíï", "üíû", "üíì", "üíó", "üíñ", "üíò", "üíù", "üíü"],
                "hands": ["üëç", "üëé", "üëä", "‚úä", "ü§õ", "ü§ú", "ü§û", "‚úåÔ∏è", "ü§ü", "ü§ò", "üëå", "üëà", "üëâ", "üëÜ", "üëá", "‚òùÔ∏è", "‚úã", "ü§ö", "üñê", "üññ", "üëã", "ü§ô", "üí™", "ü¶æ", "ü¶ø", "ü¶µ", "ü¶∂", "üëÇ", "ü¶ª", "üëÉ"],
                "objects": ["üíé", "üî•", "üíß", "üåä", "‚ú®", "üåü", "‚≠ê", "üå†", "‚òÄÔ∏è", "üå§", "‚õÖ", "üå•", "‚òÅÔ∏è", "üå©", "‚õà", "üåß", "‚ùÑÔ∏è", "‚òÉÔ∏è", "‚õÑ", "üí•", "üí´", "‚≠ê", "üåü", "üå†", "üéá", "üéÜ", "‚ú®"],
                "symbols": ["‚úÖ", "‚ùå", "‚ùé", "‚ûï", "‚ûñ", "‚ûó", "‚úñÔ∏è", "‚ôæ", "‚û∞", "‚ûø", "„Ä∞Ô∏è", "¬©Ô∏è", "¬ÆÔ∏è", "‚Ñ¢Ô∏è", "‚ÄºÔ∏è", "‚ÅâÔ∏è", "‚ùì", "‚ùî", "‚ùï", "‚ùó", "#Ô∏è‚É£", "*Ô∏è‚É£", "0Ô∏è‚É£", "1Ô∏è‚É£", "2Ô∏è‚É£", "3Ô∏è‚É£", "4Ô∏è‚É£", "5Ô∏è‚É£", "6Ô∏è‚É£", "7Ô∏è‚É£", "8Ô∏è‚É£", "9Ô∏è‚É£", "üîü"],
                "flags": ["üè≥Ô∏è", "üè¥", "üèÅ", "üö©", "üè≥Ô∏è‚Äçüåà", "üè¥‚Äç‚ò†Ô∏è", "üá¶üá´", "üá¶üáΩ", "üá¶üá±", "üá©üáø", "üá¶üá∏", "üá¶üá©", "üá¶üá¥", "üá¶üáº", "üá¶üá∫", "üá¶üáπ", "üá¶üáø", "üáßüá∏", "üáßüá≠", "üáßüá©", "üáßüáß", "üáßüáæ", "üáßüá™", "üáßüáø", "üáßüáØ"]
            };
            
            let emojis = [];
            
            if (category === 'recent') {
                const recentEmojis = JSON.parse(localStorage.getItem('recentEmojis') || '["üëç", "üî•", "üòé", "üöÄ", "‚ù§Ô∏è"]');
                emojis = recentEmojis;
                // Add recent section title
                emojiGrid.innerHTML = `
                    <div class="recent-emoji-section">
                        <div class="recent-emoji-title">Recently Used</div>
                    </div>
                `;
            } else {
                emojis = emojiCategories[category] || [];
            }
            
            // Update active category button
            document.querySelectorAll('.emoji-category-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                }
            });
            
            // Create emoji grid
            let emojiHTML = category !== 'recent' ? '' : '<div class="emoji-grid">';
            
            emojis.forEach(emoji => {
                emojiHTML += `
                    <div class="emoji-item" data-emoji="${emoji}" onclick="reactionHub.selectEmoji('${emoji}')">
                        ${emoji}
                    </div>
                `;
            });
            
            if (category === 'recent') {
                emojiHTML += '</div>';
            }
            
            if (category !== 'recent') {
                emojiHTML = `<div class="emoji-grid">${emojiHTML}</div>`;
            }
            
            if (category === 'recent') {
                // Insert after the recent title
                const recentSection = emojiGrid.querySelector('.recent-emoji-section');
                if (recentSection) {
                    recentSection.insertAdjacentHTML('afterend', emojiHTML);
                }
            } else {
                emojiGrid.innerHTML = emojiHTML;
            }
        }
        
        switchEmojiCategory(category) {
            this.renderEmojiGrid(category);
        }
        
        selectEmoji(emoji) {
            const input = document.getElementById('emojis');
            const current = input.value.trim();
            
            if (current) {
                input.value = current + ' ' + emoji;
            } else {
                input.value = emoji;
            }
            
            // Add to recent emojis
            this.addToRecentEmojis(emoji);
            
            // Trigger input event for validation
            input.dispatchEvent(new Event('input'));
            input.focus();
            
            // Close picker on mobile after selection
            if (window.innerWidth <= 768) {
                toggleEmojiPicker();
            }
        }
        
        addToRecentEmojis(emoji) {
            let recentEmojis = JSON.parse(localStorage.getItem('recentEmojis') || '["üëç", "üî•", "üòé", "üöÄ", "‚ù§Ô∏è"]');
            
            // Remove if already exists
            recentEmojis = recentEmojis.filter(e => e !== emoji);
            
            // Add to beginning
            recentEmojis.unshift(emoji);
            
            // Keep only last 12
            recentEmojis = recentEmojis.slice(0, 12);
            
            // Save to localStorage
            localStorage.setItem('recentEmojis', JSON.stringify(recentEmojis));
            
            // Update recent emojis if showing
            const activeCategory = document.querySelector('.emoji-category-btn.active');
            if (activeCategory && activeCategory.dataset.category === 'recent') {
                this.renderEmojiGrid('recent');
            }
        }
        
        searchEmojis(query) {
            const emojiGrid = document.getElementById('emojiGrid');
            if (!emojiGrid) return;
            
            if (!query.trim()) {
                // Show current category if search is empty
                const activeCategory = document.querySelector('.emoji-category-btn.active');
                if (activeCategory) {
                    this.switchEmojiCategory(activeCategory.dataset.category);
                }
                return;
            }
            
            query = query.toLowerCase();
            
            // Collect all emojis from all categories
            const emojiCategories = {
                "smileys": ["üòÄ", "üòπ", "üòÉ", "üòÑ", "üòÅ", "üòÜ", "üòÖ", "üòÇ", "ü§£", "üòä", "üòá", "üôÇ", "üôÉ", "üòâ", "üòå", "üòç", "ü•∞", "üòò", "üòó", "üòô", "üòö", "üòã", "üòõ", "üòù", "üòú", "ü§™", "ü§®", "üßê", "ü§ì", "üòé", "ü•∏", "ü§©", "ü•≥"],
                "hearts": ["‚ù§Ô∏è", "üß°", "üíõ", "üíö", "üíô", "üíú", "üñ§", "ü§ç", "ü§é", "üíî", "‚ù§Ô∏è‚Äçüî•", "‚ù§Ô∏è‚Äçü©π", "üíï", "üíû", "üíì", "üíó", "üíñ", "üíò", "üíù", "üíü"],
                "hands": ["üëç", "üëé", "üëä", "‚úä", "ü§õ", "ü§ú", "ü§û", "‚úåÔ∏è", "ü§ü", "ü§ò", "üëå", "üëà", "üëâ", "üëÜ", "üëá", "‚òùÔ∏è", "‚úã", "ü§ö", "üñê", "üññ", "üëã", "ü§ô", "üí™", "ü¶æ", "ü¶ø", "ü¶µ", "ü¶∂", "üëÇ", "ü¶ª", "üëÉ"],
                "objects": ["üíé", "üî•", "üíß", "üåä", "‚ú®", "üåü", "‚≠ê", "üå†", "‚òÄÔ∏è", "üå§", "‚õÖ", "üå•", "‚òÅÔ∏è", "üå©", "‚õà", "üåß", "‚ùÑÔ∏è", "‚òÉÔ∏è", "‚õÑ", "üí•", "üí´", "‚≠ê", "üåü", "üå†", "üéá", "üéÜ", "‚ú®"],
                "symbols": ["‚úÖ", "‚ùå", "‚ùé", "‚ûï", "‚ûñ", "‚ûó", "‚úñÔ∏è", "‚ôæ", "‚û∞", "‚ûø", "„Ä∞Ô∏è", "¬©Ô∏è", "¬ÆÔ∏è", "‚Ñ¢Ô∏è", "‚ÄºÔ∏è", "‚ÅâÔ∏è", "‚ùì", "‚ùî", "‚ùï", "‚ùó", "#Ô∏è‚É£", "*Ô∏è‚É£", "0Ô∏è‚É£", "1Ô∏è‚É£", "2Ô∏è‚É£", "3Ô∏è‚É£", "4Ô∏è‚É£", "5Ô∏è‚É£", "6Ô∏è‚É£", "7Ô∏è‚É£", "8Ô∏è‚É£", "9Ô∏è‚É£", "üîü"],
                "flags": ["üè≥Ô∏è", "üè¥", "üèÅ", "üö©", "üè≥Ô∏è‚Äçüåà", "üè¥‚Äç‚ò†Ô∏è", "üá¶üá´", "üá¶üáΩ", "üá¶üá±", "üá©üáø", "üá¶üá∏", "üá¶üá©", "üá¶üá¥", "üá¶üáº", "üá¶üá∫", "üá¶üáπ", "üá¶üáø", "üáßüá∏", "üáßüá≠", "üáßüá©", "üáßüáß", "üáßüáæ", "üáßüá™", "üáßüáø", "üáßüáØ"]
            };
            
            let allEmojis = [];
            for (const category in emojiCategories) {
                allEmojis = [...allEmojis, ...emojiCategories[category]];
            }
            
            // Filter emojis (simple search)
            const filtered = allEmojis.filter(emoji => {
                return emoji.includes(query);
            });
            
            // Display search results
            let emojiHTML = '<div class="emoji-grid">';
            
            if (filtered.length > 0) {
                filtered.forEach(emoji => {
                    emojiHTML += `
                        <div class="emoji-item" data-emoji="${emoji}" onclick="reactionHub.selectEmoji('${emoji}')">
                            ${emoji}
                        </div>
                    `;
                });
            } else {
                emojiHTML += `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--gray);">
                        <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 10px;"></i>
                        <p>No emojis found for "${query}"</p>
                    </div>
                `;
            }
            
            emojiHTML += '</div>';
            emojiGrid.innerHTML = emojiHTML;
        }
    }

    // ========== UTILITY FUNCTIONS ==========
    function showAbout() {
        document.getElementById('aboutModal').classList.add('active');
    }

    function closeModal() {
        document.getElementById('aboutModal').classList.remove('active');
    }

    function resetSystem() {
        if (confirm('Reset all statistics and logs?')) {
            localStorage.removeItem('reactionHub_stats');
            localStorage.removeItem('recentEmojis');
            localStorage.removeItem('notificationShown');
            window.location.reload();
        }
    }

    function exportLogs() {
        const logs = document.querySelectorAll('.log-line');
        const logText = Array.from(logs)
            .map(log => log.textContent)
            .join('\n');
        
        const blob = new Blob([logText], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        
        const a = document.createElement('a');
        a.href = url;
        a.download = `reactionhub-logs-${new Date().toISOString().slice(0, 10)}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        // Show confirmation
        if (window.reactionHub) {
            window.reactionHub.showMessage('Logs exported successfully!', true);
        }
    }

    function toggleMobileMenu() {
        const mobileNav = document.querySelector('.mobile-nav');
        mobileNav.classList.toggle('active');
    }

    function toggleEmojiPicker() {
        const picker = document.querySelector('.emoji-picker-modal');
        const isActive = picker.classList.contains('active');
        
        if (!isActive) {
            // Close mobile menu if open
            const mobileNav = document.querySelector('.mobile-nav');
            if (mobileNav && mobileNav.classList.contains('active')) {
                mobileNav.classList.remove('active');
            }
            
            // Show recent emojis by default
            if (window.reactionHub) {
                window.reactionHub.renderEmojiGrid('recent');
            }
            
            // Clear search
            const searchInput = document.getElementById('emojiSearch');
            if (searchInput) searchInput.value = '';
        }
        
        picker.classList.toggle('active');
        
        // Prevent body scroll when picker is open
        document.body.style.overflow = isActive ? '' : 'hidden';
    }

    function toggleAdvancedSettings() {
        const advancedSettings = document.querySelector('.advanced-settings');
        if (advancedSettings) {
            advancedSettings.classList.toggle('active');
        }
    }

    function showMobileNotification() {
        const notification = document.getElementById('mobileNotification');
        notification.style.display = 'flex';
        
        // Auto hide after 5 seconds
        setTimeout(() => {
            hideMobileNotification();
        }, 5000);
    }

    function hideMobileNotification() {
        const notification = document.getElementById('mobileNotification');
        notification.style.display = 'none';
    }

    // ========== INITIALIZE APPLICATION ==========
    document.addEventListener('DOMContentLoaded', () => {
        window.reactionHub = new ReactionHub();
        
        // Close modal on outside click
        document.getElementById('aboutModal').addEventListener('click', (e) => {
            if (e.target.id === 'aboutModal') {
                closeModal();
            }
        });
        
        // Close emoji picker when clicking outside
        document.addEventListener('click', (e) => {
            const picker = document.querySelector('.emoji-picker-modal');
            const pickerContainer = document.querySelector('.emoji-picker-container');
            
            if (picker && picker.classList.contains('active') && 
                !pickerContainer.contains(e.target) && 
                !e.target.closest('.emoji-picker-btn')) {
                toggleEmojiPicker();
            }
            
            // Close mobile menu when clicking outside
            const mobileNav = document.querySelector('.mobile-nav');
            const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
            
            if (mobileNav && mobileNav.classList.contains('active') && 
                !mobileNav.contains(e.target) && 
                !mobileMenuBtn.contains(e.target)) {
                mobileNav.classList.remove('active');
            }
        });
        
        // Close modals on ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
                
                const picker = document.querySelector('.emoji-picker-modal');
                if (picker && picker.classList.contains('active')) {
                    toggleEmojiPicker();
                }
            }
        });
        
        // Auto-focus URL input on page load (not on mobile)
        if (window.innerWidth > 768) {
            setTimeout(() => {
                const urlInput = document.getElementById('postUrl');
                if (urlInput) urlInput.focus();
            }, 500);
        }
        
        // Prevent zoom on input focus for iOS
        document.addEventListener('touchstart', function() {}, {passive: true});
        
        // Add CSS variable for viewport height
        const style = document.createElement('style');
        style.textContent = `
            :root {
                --vh: 1vh;
            }
            
            .modal, .emoji-picker-modal {
                height: 100vh;
                height: calc(var(--vh, 1vh) * 100);
            }
        `;
        document.head.appendChild(style);
    });
    </script>
</body>
</html>
